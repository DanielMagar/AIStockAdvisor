<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<title>AI Stock Advisor â€“ US Market Predictions</title>

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css" />

	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
	<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet" />

	<link rel="stylesheet" href="index.css" />
	<link rel="stylesheet" href="theme-update.css" />
	<link rel="stylesheet" href="dark-theme.css" />
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>

<body>
	<!-- HEADER -->
	<header class="app-header">
		<div class="brand">
			<div class="logo">
				<a href="/" style="display: flex; align-items: center; gap: 16px; text-decoration: none; color: inherit;">
				<svg width="40" height="40" viewBox="0 0 40 40" fill="none">
					<rect width="40" height="40" rx="8" fill="url(#gradient)"/>
					<path d="M10 25L15 18L20 22L25 12L30 16" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
					<defs>
						<linearGradient id="gradient" x1="0" y1="0" x2="40" y2="40">
							<stop offset="0%" stop-color="#6366f1"/>
							<stop offset="100%" stop-color="#4f46e5"/>
						</linearGradient>
					</defs>
				</svg>
				<div>
					<h1 class="brand-title">AI Stock Advisor</h1>
					<span class="subtitle">US Market Predictions</span>
				</div>
				</a>
			</div>
			<nav class="nav-links">
				<a href="/" class="active">Stock Analysis</a>
				<a href="/stocks.html">Browse Stocks</a>
				<a href="/chat.html">AI Chat</a>
			</nav>
			<button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme" title="Toggle dark mode">
				<img src="/images/icons8-crescent-moon-96.png" alt="Toggle theme" class="theme-icon" width="24" height="24" />
			</button>
			<button class="hamburger" id="hamburger" aria-label="Menu">
				<span></span>
				<span></span>
				<span></span>
			</button>
		</div>
	</header>

	<!-- MAIN -->
	<main class="container">
		<!-- ACTION PANEL (JS depends on this class) -->
		<section class="card action-panel">
			<div class="panel-header">
				<div style="display: flex; justify-content: space-between; align-items: center;">
					<div>
						<h1>ğŸ“Š Analyze US Stocks</h1>
						<p class="muted">
							Enter up to 3 US stock tickers to generate AI-powered market insights
						</p>
					</div>
					<button class="help-btn" id="help-btn" title="What is a stock ticker?">â“</button>
				</div>
			</div>

			<div class="help-popup" id="help-popup" style="display: none;">
				<div class="help-content">
					<button class="help-close" id="help-close">Ã—</button>
					<h3>ğŸ’¡ New to Stock Tickers?</h3>
					<p>A stock ticker is a unique code (usually 1-5 letters) that identifies a publicly traded company. For example, <strong>AAPL</strong> represents Apple Inc. Simply type the ticker symbol below and click "Add Ticker".</p>
				</div>
			</div>

			<div class="stock-examples">
				<span class="example-label">ğŸ¯ Popular US Stocks:</span>
				<div class="stock-chips">
					<span class="chip clickable-chip" data-ticker="AAPL" title="Apple Inc. - Technology">AAPL</span>
					<span class="chip clickable-chip" data-ticker="MSFT" title="Microsoft Corporation - Technology">MSFT</span>
					<span class="chip clickable-chip" data-ticker="GOOGL" title="Alphabet Inc. - Technology">GOOGL</span>
					<span class="chip clickable-chip" data-ticker="TSLA" title="Tesla Inc. - Automotive/Energy">TSLA</span>
					<span class="chip clickable-chip" data-ticker="AMZN" title="Amazon.com Inc. - E-commerce">AMZN</span>
					<span class="chip clickable-chip" data-ticker="NVDA" title="NVIDIA Corporation - Semiconductors">NVDA</span>
					<span class="chip clickable-chip" data-ticker="META" title="Meta Platforms Inc. - Social Media">META</span>
					<span class="chip clickable-chip" data-ticker="NFLX" title="Netflix Inc. - Streaming">NFLX</span>
					<span class="chip clickable-chip" data-ticker="JPM" title="JPMorgan Chase & Co. - Banking">JPM</span>
					<span class="chip clickable-chip" data-ticker="JNJ" title="Johnson & Johnson - Healthcare">JNJ</span>
					<span class="chip clickable-chip" data-ticker="V" title="Visa Inc. - Financial Services">V</span>
					<span class="chip clickable-chip" data-ticker="WMT" title="Walmart Inc. - Retail">WMT</span>
					<span class="chip clickable-chip" data-ticker="KO" title="Coca-Cola Company - Beverages">KO</span>
					<span class="chip clickable-chip" data-ticker="NKE" title="Nike Inc. - Apparel">NKE</span>
					<span class="chip clickable-chip" data-ticker="DIS" title="Disney - Entertainment">DIS</span>
					<span class="chip clickable-chip" data-ticker="MCD" title="McDonald's Corporation - Fast Food">MCD</span>
				</div>
			</div>

			<form id="ticker-input-form" class="ticker-form">
				<input type="text" id="ticker-input" placeholder="Enter tickers (e.g., AAPL, TSLA, MSFT)" autocomplete="off" />
				<button class="add-ticker-btn" type="submit">+ Add Ticker(s)</button>
			</form>

			<p class="input-hint">ğŸ’¡ Tip: Add one ticker at a time or multiple separated by commas</p>

			<!-- JS expects this exact class -->
			<div class="ticker-display-wrapper">
				<div class="ticker-header">
					<label class="ticker-label">Selected Tickers:</label>
					<button class="clear-tickers-btn" id="clear-tickers-btn" style="display: none;">âœ• Clear All</button>
				</div>
				<p class="ticker-choice-display">
					Your tickers will appear hereâ€¦
				</p>
			</div>

			<!-- JS expects this exact class -->
			<button class="generate-report-btn" type="button" disabled>
				ğŸš€ Generate AI Report
			</button>

			<!-- DOCUMENT UPLOAD SECTION -->
			<div class="doc-upload-section">
				<div class="doc-upload-header">
					<span class="doc-icon">ğŸ“„</span>
					<div>
						<h3>Enhance with Document Analysis</h3>
						<p class="doc-subtitle">Upload earnings reports or financial documents for deeper insights</p>
					</div>
				</div>

				<div class="doc-upload-area" id="doc-upload-area">
					<input type="file" id="doc-upload" accept=".txt,.pdf" />
					<div class="upload-placeholder">
						<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
							<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
							<polyline points="17 8 12 3 7 8"></polyline>
							<line x1="12" y1="3" x2="12" y2="15"></line>
						</svg>
						<p class="upload-text">Drop your file here or <span class="upload-link">browse</span></p>
					</div>
					<div class="uploaded-file-display" id="uploaded-file-display" style="display: none;">
						<div class="file-info">
							<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path>
								<polyline points="13 2 13 9 20 9"></polyline>
							</svg>
							<span id="file-name-display"></span>
						</div>
						<button class="remove-file-btn" id="remove-file-btn">Ã—</button>
					</div>
				</div>
				<p class="upload-hint" style="text-align: center; margin-top: 8px;">Supports TXT files only. For PDF analysis, <a href="/chat.html" style="color: #6366f1; text-decoration: underline; font-weight: 500;">click here</a></p>

				<div class="doc-toggle-wrapper">
					<label class="toggle-switch">
						<input type="checkbox" id="use-doc-toggle" disabled />
						<span class="toggle-slider"></span>
					</label>
					<span class="toggle-label">Use document for AI analysis</span>
				</div>
			</div>

			<p class="tiny muted">âš ï¸ For entertainment purposes only. Not financial advice.</p>
		</section>

		<!-- LOADING PANEL (JS depends on this class + #api-message) -->
		<section class="loading-panel">
			<div class="ai-brain-animation">
				<div class="brain-pulse"></div>
				<div class="brain-icon">ğŸ§ </div>
			</div>
			<div id="api-message" class="ai-loading-text">AI is analyzing market data...</div>
			<div class="loading-dots">
				<span></span><span></span><span></span>
			</div>
		</section>

		<!-- OUTPUT PANEL (JS depends on this class) -->
		<section class="card output-panel">
			<div class="report-header">
				<h2>ğŸ“ˆ Your AI Market Report</h2>
				<div class="report-actions">
					<div class="verdict-badges" id="verdict-badges"></div>
					<button class="new-report-btn">â† Back to Home</button>
				</div>
			</div>

			<div class="report-content">
				<div class="charts-container">
					<canvas id="stockChart"></canvas>
				</div>

				<div class="report-card"></div>
			</div>
		</section>

	</main>

	<!-- FOOTER -->
	<footer class="app-footer">
		<p>ğŸ‡ºğŸ‡¸ US Stock Market Analysis Only | Powered by AI | Developed by Daniel Thapa</p>
		<p class="disclaimer">
			 Â© <span id="year"></span> AI Stock Advisor. This is not real financial advice. Always do your own research.<br>
			<span style="font-size: 0.85em; opacity: 0.8;">ğŸ’¡ New to tickers? A stock ticker is a unique code (1-5 letters) identifying a company, e.g., AAPL = Apple Inc.</span>
		</p>
	</footer>

	<!-- Toast Container -->
	<div id="toast-container"></div>

	<script src="index.js" type="module"></script>
	<script>
		// Theme toggle
		const themeToggle = document.getElementById('theme-toggle');
		const themeIcon = document.querySelector('.theme-icon');
		const savedTheme = localStorage.getItem('theme');
		if (savedTheme === 'dark') {
			document.body.classList.add('dark-theme');
			if (themeIcon) themeIcon.src = '/images/icons8-sun-96.png';
			themeToggle.title = 'Toggle light mode';
		}
		themeToggle?.addEventListener('click', () => {
			document.body.classList.toggle('dark-theme');
			const isDark = document.body.classList.contains('dark-theme');
			if (themeIcon) themeIcon.src = isDark ? '/images/icons8-sun-96.png' : '/images/icons8-crescent-moon-96.png';
			themeToggle.title = isDark ? 'Toggle light mode' : 'Toggle dark mode';
			localStorage.setItem('theme', isDark ? 'dark' : 'light');
			window.dispatchEvent(new Event('themeChanged'));
		});

		// Hamburger menu toggle
		document.getElementById('hamburger')?.addEventListener('click', function() {
			this.classList.toggle('active');
			document.querySelector('.nav-links').classList.toggle('active');
		});
		document.getElementById("year").textContent = new Date().getFullYear();
	</script>
</body>

</html>